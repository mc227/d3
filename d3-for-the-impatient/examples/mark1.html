<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Centered PNG Images with Connection Line</title>
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 100vh;
      background-color: white;
      padding: 0 20px; /* Adjust as needed */
      position: relative; /* Make the body a positioning context */
    }
    
    img {
      background-color: white; /* Set the background color to white */
      position: relative; /* Set position to relative */
      border: none; /* Remove the border */
    }
    
    svg {
      position: absolute;
      top: 0;
      left: 0;
    }
    
    .arrow {
      fill: green; /* Set arrow color */
    }

    .node {
      position: absolute;
      padding: 5px;
      border-radius: 5px;
    }

    .node div {
      font-size: 12px; /* Adjust the font size as needed */
    }
  </style>
</head>
<body>
  <!-- Nodes -->
  <div id="node1" class="node" style="left: 1225px; top: 455px;">
    <img src="gnode.png" alt="ATB-8" width="50" height="50">
    <div>ATB-8</div>
  </div>
  <div id="node2" class="node" style="left: 1005px; top: 455px;">
    <img src="gnode.png" alt="ATB-9" width="50" height="50">
    <div>ATB-9</div>
  </div>
  <div id="node3" class="node" style="left: 785px; top:455px;">
    <img src="gnode.png" alt="ATB-7" width="50" height="50">
    <div>ATB-7</div>
  </div>
  <div id="node4" class="node" style="left: 565px; top: 455px;">
    <img src="gnode.png" alt="ATB-6" width="50" height="50">
    <div>ATB-6</div>
  </div>
  <div id="node5" class="node" style="left: 640px; top: 190px;">
    <img src="gnode.png" alt="ATB-3" width="50" height="50">
    <div>ATB-3</div>
  </div>
  <div id="node6" class="node" style="left: 895px; top: 170px;">
    <img src="gnode.png" alt="ATB-5" width="50" height="50">
    <div>ATB-5</div>
  </div>
  <div id="node7" class="node" style="left: 1175px; top: 190px;">
    <img src="gnode.png" alt="ATB-4" width="50" height="50">
    <div>ATB-4</div>
  </div>
  
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script>
    // Get the positions of the left and right routers
    var leftRouter = document.getElementById('leftRouter');
    var rightRouter = document.getElementById('rightRouter');
    var leftRect = leftRouter.getBoundingClientRect();
    var rightRect = rightRouter.getBoundingClientRect();
    
    // Calculate the coordinates for the line
    var x1 = leftRect.right;
    var y1 = leftRect.top + (leftRect.height / 2);
    var x2 = rightRect.left;
    var y2 = rightRect.top + (rightRect.height / 2);
    
    // Set the line coordinates
    var line = document.getElementById('line');
    line.setAttribute('x1', x1);
    line.setAttribute('y1', y1);
    line.setAttribute('x2', x2);
    line.setAttribute('y2', y2);
    
    // Define animation variables
    var svg = document.getElementById('connectionLine');
    var arrowGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
    var numArrows = 20; // Number of arrows to animate
    var arrowSpacing = (x2 - x1) / numArrows; // Spacing between arrows
    
    
    
    // Function to animate traffic flowing
    function animateTraffic() {
      d3.selectAll('.arrow')
        .transition()
        .duration(2000)
        .attrTween('transform', function() {
          return function(t) {
            return 'translate(' + (x1 + t * (x2 - x1)) + ',' + y1 + ')';
          };
        })
        .on('end', function() {
          // Restart the animation
          d3.select(this).attr('transform', 'translate(' + x1 + ',' + y1 + ')');
          animateTraffic();
        });
    }
  </script>
</body>
</html>
